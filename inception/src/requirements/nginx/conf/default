server {
	listen 443 ssl;
	listen [::]:443 ssl;

	server_name jcros.42.fr;
	# On note le cert et la key (necessaire protocole ssl)
	ssl_certificate /etc/ssl/jcros.42.fr.crt;
	ssl_certificate_key /etc/ssl/jcros.42.fr.key;

	# Protocole d'encryptions pour les cles ssl
	ssl_protocols		TLSv1.2 TLSv1.3;

	# Fichiers a afficher et dossier ou les chercher
	root /var/www/html;
	index index.php index.nginx-debian.html;

	# Directive necessaire pour les endpoints, 
	# Fast cgi necessaire pour nginx pour "traduire" le php
	location / {
		try_files $uri $uri/ /index.php$is_args$args;
	}

	location ~ \.php$ {
		fastcgi_split_path_info ^(.+\.php)(/.+)$;
		fastcgi_pass localhost:9000; #PHP for wordpress will listen on the port 9000
		fastcgi_index index.php;
		include fastcgi_params;
		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		fastcgi_param SCRIPT_NAME $fastcgi_script_name;
	}
# server {
# 	# listen 80 default_server;
# 	# listen [::]:80 default_server;

# 	# SSL configuration
# 	listen 443 ssl;
# 	listen [::]:443 ssl;

# 	ssl_certificate /etc/ssl/jcros.42.fr.crt;
# 	ssl_certificate_key /etc/ssl/jcros.42.fr.key;

# 	ssl_protocols TLSv1.3;

# 	#
# 	# Note: You should disable gzip for SSL traffic.
# 	# See: https://bugs.debian.org/773332
# 	#
# 	# Read up on ssl_ciphers to ensure a secure configuration.
# 	# See: https://bugs.debian.org/765782
# 	#
# 	# Self signed certs generated by the ssl-cert package
# 	# Don't use them in a production server!
# 	#
# 	# include snippets/snakeoil.conf;

# 	root /var/www/html;

# 	# Add index.php to the list if you are using PHP
# 	index index.php index.html index.htm index.nginx-debian.html;

# 	server_name jcros.42.fr;

# 	location / {
# 		# First attempt to serve request as file, then
# 		# as directory, then fall back to displaying a 404.
# 		try_files $uri $uri/ =404;
# 	}

# 	# pass PHP scripts to FastCGI server
# 	#
# 	location ~ \.php$ {
# 		include snippets/fastcgi-php.conf;
	
# 		# With php-fpm (or other unix sockets):
# 		# fastcgi_pass unix:/run/php/php7.4-fpm.sock;
# 		# With php-cgi (or other tcp sockets):
# 		fastcgi_pass wordpress:9000;
# 	}

# 	# deny access to .htaccess files, if Apache's document root
# 	# concurs with nginx's one
# 	#
# 	#location ~ /\.ht {
# 	#	deny all;
# 	#}
# }
  
# #   server_name _;
  
# #   root /var/www/html;
# #   index index.php index.html index.htm;

# #   location / {
# #     try_files $uri $uri/ =404;
# #   }

# #   location ~ \.php$ {
# #     include snippets/fastcgi-php.conf

# #     fastcgi_pass wordpress:9000
# #   }
# # }
# # # server {
# # # 	listen 443 ssl;
# # # 	listen [::]:443 ssl;

# # # 	server_name jcros.42.fr;
# # # 	ssl_certificate		/etc/nginx/ssl/jcros.crt;
# # # 	ssl_certificate_key	/etc/nginx/ssl/jcros.key;

# # # 	ssl_protocols		TLSv1.2 TLSv1.3;

# # # 	root /var/www/html;

# # # 	index index.php index.html index.htm;

# # # 	# location / {
# # # 	# 	try_files $uri $uri/ /index.php$is_args$args;
# # # 	# }

# # # 	location ~ [^/]\.php(/|$) { 
# # #             try_files $uri =404;
# # #             fastcgi_pass wordpress:9000;
# # #             include fastcgi_params;
# # #             fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;

# # # 	# location ~ \.php$ {
# # # 	# 	fastcgi_split_path_info ^(.+\.php)(/.+)$;
# # # 	# 	fastcgi_pass wordpress:9000;
# # # 	# 	fastcgi_index index.php;
# # # 	# 	include fastcgi_params;
# # # 	# 	fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
# # # 	# 	fastcgi_param SCRIPT_NAME $fastcgi_script_name;
# # # 	# }

# # # }

# # # 	# listen 443 ssl;
# # # 	# listen [::]:443 ssl;

# # # 	server_name jcros.42.fr;
# # # 	# On note le cert et la key (necessaire protocole ssl)
# # # 	ssl_certificate		/etc/nginx/ssl/jcros.crt;
# # # 	ssl_certificate_key	/etc/nginx/ssl/jcros.key;

# # # 	# Protocole d'encryptions pour les cles ssl
# # # 	ssl_protocols		TLSv1.2 TLSv1.3;

# # # 	# Fichiers a afficher et dossier ou les chercher
# # # 	root /var/www/html;
# # # 	index index.php index.html index.htm;

# # # 	# Directive necessaire pour les endpoints, 
# # # 	# Fast cgi necessaire pour nginx pour "traduire" le php
# # # 	location / {
# # # 		try_files $uri $uri/ /index.php$is_args$args;
# # # 	}

# # # 	location ~ \.php$ {
# # # 		fastcgi_split_path_info ^(.+\.php)(/.+)$;
# # # 		fastcgi_pass wordpress:9000; #PHP for wordpress will listen on the port 9000
# # # 		fastcgi_index index.php;
# # # 		include fastcgi_params;
# # # 		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
# # # 		fastcgi_param SCRIPT_NAME $fastcgi_script_name;
# # # 	}

# # # 	# BONUS PART #

# # # 	## Adminer ##
# # # 	location ~ ^/adminer(/.*$|$) {
# # # 		fastcgi_index index.php;
# # # 		include /etc/nginx/fastcgi_params;
# # # 		fastcgi_param SCRIPT_FILENAME /var/www/html/index.php;
# # # 		fastcgi_pass adminer:9000;
# # # 	}
# # # 	## hugo (Bonus for the service of your choice)##
# # # 	#proxy trafic on /me with hugo server
# # #     location            ^~ /me
# # #     {
# # #         include         /etc/nginx/proxy_params;
# # #         proxy_pass      http://hugo:1313/me;
# # #     }

# # # 	location            ^~ /static
# # #     {
# # #         include         /etc/nginx/proxy_params;
# # #         proxy_pass      http://static_page:1313/static;
# # #     }
# # # 	##Static page ##
# # # 	# END OF BONUS PART #
# # # }

# # # # events {}

# # # # http {
# # # #     server {
# # # #         listen 80;
# # # #         server_name localhost;

# # # #         location / {
# # # #             proxy_pass http://wordpress:9000;
# # # #             proxy_set_header Host $host;
# # # #             proxy_set_header X-Real-IP $remote_addr;
# # # #             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
# # # #             proxy_set_header X-Forwarded-Proto $scheme;
# # # #         }
# # # #     }
# # # # }
# # # # #  http {
# # # # server {
# # # # 	root /var/www/html;

# # # # 	location / {
# # # # 		index index.html;
# # # # 	}

# # # # }
# # # # 	# server {
# # # # 	# 	listen 443
# # # # 	# 	location / {
# # # # 	# 		proxy_pass http://localhost:8080;
# # # # 	# 		root /var/www/html/index.html;
# # # # 	# 	}

# # # # 	# }
# # # # #  }








# # herbie

# ##
# # You should look at the following URL's in order to grasp a solid understanding
# # of Nginx configuration files in order to fully unleash the power of Nginx.
# # https://www.nginx.com/resources/wiki/start/
# # https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# # https://wiki.debian.org/Nginx/DirectoryStructure
# #
# # In most cases, administrators will remove this file from sites-enabled/ and
# # leave it as reference inside of sites-available where it will continue to be
# # updated by the nginx packaging team.
# #
# # This file will automatically load configuration files provided by other
# # applications, such as Drupal or Wordpress. These applications will be made
# # available underneath a path with that package name, such as /drupal8.
# #
# # Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.
# ##

# # Default server configuration
# #
# # server {
# # 	listen 80 default_server;
# # 	listen [::]:80 default_server;

# # 	# SSL configuration
# # 	#
# # 	# listen 443 ssl default_server;
# # 	# listen [::]:443 ssl default_server;	
# # 	#
# # 	# Note: You should disable gzip for SSL traffic.
# # 	# See: https://bugs.debian.org/773332
# # 	#
# # 	# Read up on ssl_ciphers to ensure a secure configuration.
# # 	# See: https://bugs.debian.org/765782
# # 	#
# # 	# Self signed certs generated by the ssl-cert package
# # 	# Don't use them in a production server!
# # 	#
# # 	# include snippets/snakeoil.conf;

# # 	root /var/www/html;

# # 	# Add index.php to the list if you are using PHP
# # 	index index.php index.html index.htm index.nginx-debian.html;

# # 	server_name _;

# # 	location / {
# # 		# First attempt to serve request as file, then
# # 		# as directory, then fall back to displaying a 404.
# # 		try_files $uri $uri/ =404;
# # 	}

# # 	# pass PHP scripts to FastCGI server
# # 	#
# # 	location ~ \.php$ {
# # 		include snippets/fastcgi-php.conf;
	
# # 		# With php-fpm (or other unix sockets):
# # 		# fastcgi_pass unix:/run/php/php7.4-fpm.sock;
# # 		# With php-cgi (or other tcp sockets):
# # 		fastcgi_pass wordpress:9000;
# # 	}

# # 	# deny access to .htaccess files, if Apache's document root
# # 	# concurs with nginx's one
# # 	#
# # 	#location ~ /\.ht {
# # 	#	deny all;
# # 	#}
# # }


# # Virtual Host configuration for example.com
# #
# # You can move that to a different file under sites-available/ and symlink that
# # to sites-enabled/ to enable it.
# #
# #server {
# #	listen 80;
# #	listen [::]:80;
# #
# #	server_name example.com;
# #
# #	root /var/www/example.com;
# #	index index.html;
# #
# #	location / {
# #		try_files $uri $uri/ =404;
# #	}
# #}